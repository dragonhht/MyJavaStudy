<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- META TAGS -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Knowledge Base Theme</title>

    <link rel="shortcut icon" th:href="@{/img/favicon.png}" />




    <!-- Style Sheet-->
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <link rel='stylesheet' id='bootstrap-css-css'  th:href='@{/css/bootstrap5152.css?ver=1.0}' type='text/css' media='all' />
    <link rel='stylesheet' id='responsive-css-css'  th:href='@{/css/responsive5152.css?ver=1.0}' type='text/css' media='all' />
    <link rel='stylesheet' id='pretty-photo-css-css'  th:href='@{/js/prettyphoto/prettyPhotoaeb9.css?ver=3.1.4}' type='text/css' media='all' />
    <link rel='stylesheet' id='main-css-css'  th:href='@{/css/main5152.css?ver=1.0}' type='text/css' media='all' />
    <link rel='stylesheet' id='custom-css-css'  th:href='@{/css/custom5152.html?ver=1.0}' type='text/css' media='all' />


</head>

<body>

<!--从main_top.html中引入名字为maintop的fragment-->
<div th:include="main_top::maintop"></div>

<!-- Start of Page Container -->
<div class="page-container">
    <div class="container">
        <div class="row">

            <!-- start of page content -->
            <div class="span8 main-listing">

                <article class="format-standard type-post hentry clearfix" th:each="article : ${userarticles}">

                    <header class="clearfix">

                        <h3 class="post-title">
                            <a th:href="@{/single/{articleId}(articleId=${article.articleId})}" th:text="${article.articleTitle}"></a>
                        </h3>

                        <div class="post-meta clearfix">
                            <span class="date" th:text="${article.articleDate}"></span>
                            <span class="category"><a th:href="@{/visituser/{userId}/{nowpage}(userId=${article.user.userId}, nowpage = 0)}" th:title="${article.user.userName}" th:text="${article.user.userName}"></a></span>
                            <span class="comments"><a href="#" th:text="${article.lookCount+' 次浏览'}"></a></span>
                            <span class="like-count" th:text="${'被赞 ' +article.suppotCount+' 次'}"></span>
                        </div><!-- end of post meta -->

                    </header>

                    <p>
                        <span class="article-text" th:text="${article.articleText}"></span>
                        <a class="readmore-link" th:href="@{/single/{articleId}(articleId=${article.articleId})}">Read more</a>
                    </p>

                </article>



                <div id="pagination">
                    <!--第一页-->
                    <span th:unless="${1 eq (nowpage+1)}">
                        <a class="btn" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = 0)}">First</a>
                    </span>
                    <!--上一页-->
                    <span th:unless="${1 eq (nowpage+1)}">
                        <a class="btn" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${nowpage-1})}">Previous</a>
                    </span>

					<span th:unless="${nowpage+1 lt 10}">...</span>

                    <span  th:each="num : ${#numbers.sequence(1, pagecount)}">
                        <span th:if="${pagecount le 10}">
                            <span th:if="${num eq (nowpage+1)}">
                                <a  class="btn active" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${num-1})}" th:text="${num}"></a>
                            </span>
                            <span th:unless="${num eq (nowpage+1)}">
                                <a  class="btn" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${num-1})}" th:text="${num}"></a>
                            </span>
                        </span>
						<span th:if="${num eq 11 and nowpage+1 lt 10}">...</span>
                        <span th:unless="${pagecount le 10}">
                            <span th:if="${nowpage+1 lt 10}">
                                <span th:if="${num le 10}">
                                    <span th:if="${num eq (nowpage+1)}">
                                     <a  class="btn active" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${num-1})}" th:text="${num}"></a>
                                    </span>
                                    <span th:unless="${num eq (nowpage+1)}">
                                     <a  class="btn" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${num-1})}" th:text="${num}"></a>
                                    </span>
                                </span>
                            </span>


                            <span th:unless="${nowpage+1 lt 10}">

                                <span th:if="${num gt nowpage-5 and num lt nowpage+7}">
                                    <span th:if="${num eq (nowpage+1)}">
                                        <a  class="btn active" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${num-1})}"
                                            th:text="${num}"></a>
                                    </span>
                                    <span th:unless="${num eq (nowpage+1)}">
                                        <a  class="btn" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${num-1})}"
                                            th:text="${num}"></a>
                                    </span>
                                </span>

                            </span>

                        </span>

                    </span>
					<span th:unless="${nowpage+1 lt 10 or nowpage+1 eq pagecount}">...</span>

                    <!--下一页-->
                    <span th:unless="${pagecount eq (nowpage+1)}">
                        <a class="btn" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${nowpage+1})}">Next</a>
                    </span>
                    <!--最后一页-->
                    <span th:unless="${pagecount eq (nowpage+1)}">
                        <a class="btn" th:href="@{/visituser/{userId}/{nowpage}(userId=${userId}, nowpage = ${pagecount-1})}">Last</a>
                    </span>
					<span th:text="${'共 '+ pagecount +'页'}"></span>
                </div>

            </div>
            <!-- end of page content -->


            <!-- start of sidebar -->
            <aside class="span4 page-sidebar" th:include="main_top::myaside">
            </aside>
            <!-- end of sidebar -->
        </div>
    </div>
</div>
<!-- End of Page Container -->

<!-- Start of Footer -->
<footer id="footer-wrapper">


    <!-- Footer Bottom -->
    <div id="footer-bottom-wrapper">
        <div id="footer-bottom" class="container">
            <div class="row">
                <div class="span6">
                    <p class="copyright">
                        Copyright © 2013. All Rights Reserved by KnowledgeBase.Collect from <a href="http://www.cssmoban.com/" title="网页模板" target="_blank">网页模板</a>
                    </p>
                </div>
                <div class="span6">
                    <!-- Social Navigation -->
                    <ul class="social-nav clearfix">
                        <li class="linkedin"><a target="_blank" href="#"></a></li>
                        <li class="stumble"><a target="_blank" href="#"></a></li>
                        <li class="google"><a target="_blank" href="#"></a></li>
                        <li class="deviantart"><a target="_blank" href="#"></a></li>
                        <li class="flickr"><a target="_blank" href="#"></a></li>
                        <li class="skype"><a target="_blank" href="skype:#?call"></a></li>
                        <li class="rss"><a target="_blank" href="#"></a></li>
                        <li class="twitter"><a target="_blank" href="#"></a></li>
                        <li class="facebook"><a target="_blank" href="#"></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Footer Bottom -->

</footer>
<!-- End of Footer -->

<a href="#top" id="scroll-top"></a>

<!-- script -->
<script type='text/javascript' th:src='@{/js/jquery-1.8.3.min.js}'></script>
<script type='text/javascript' th:src='@{/js/jquery.easing.1.34e44.js}'></script>
<script type='text/javascript' th:src='@{/js/prettyphoto/jquery.prettyPhotoaeb9.js}'></script>
<script type='text/javascript' th:src='@{/js/jquery.liveSearchd5f7.js}'></script>
<script type='text/javascript' th:src='@{/js/jflickrfeed.js}'></script>
<script type='text/javascript' th:src='@{/js/jquery.formd471.js}'></script>
<script type='text/javascript' th:src='@{/js/jquery.validate.minfc6b.js}'></script>
<script type='text/javascript' th:src='@{/js/custom5152.js}'></script>

<script type="text/javascript" th:src="@{/js/my/article_list.js}" ></script>

</body>
</html>
